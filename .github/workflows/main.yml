name: Environment Variables and Contexts Demo

on:
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  demo-job:
    runs-on: ubuntu-latest
    
    # Define environment variables for the entire job
    env:
      GLOBAL_ENV_VAR: "This is a global environment variable"
      GREETING: "Hello"
    
    steps:
      # Step 1: Checkout the repository
      - name: Checkout Repository
        uses: actions/checkout@v2

      # Step 2: Use context variables (GitHub context, job context)
      - name: Display GitHub Context Information
        run: |
          echo "Repository Name: ${{ github.repository }}"
          echo "Event Name: ${{ github.event_name }}"
          echo "Workflow Run ID: ${{ github.run_id }}"
          
      # Step 3: Use an environment variable
      - name: Display Environment Variable (GREETING)
        run: |
          echo "${{ env.GREETING }} World!"
          
      # Step 4: Use environment variables in multiple steps
      - name: Display Another Environment Variable (GLOBAL_ENV_VAR)
        run: |
          echo "${{ env.GLOBAL_ENV_VAR }}"
          
      # Step 5: Set and use environment variables within a step dynamically
      - name: Set and Use Dynamic Environment Variable
        run: |
          echo "MY_DYNAMIC_VAR=Dynamic Value" >> $GITHUB_ENV
          echo "MY_DYNAMIC_VAR is: ${{ env.MY_DYNAMIC_VAR }}"

      # Step 6: Display final result using environment variable
      - name: Final Output Using Dynamic Env Var
        run: |
          echo "Final Dynamic Value: ${{ env.MY_DYNAMIC_VAR }}"

   t 
